<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="favicon.png"> 
    <title>Agenda de Horários - Moinhos de Vento</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="personagem-container">
        <div class="personagens-loop">
        </div>
    </div>

    <header>
        <div class="logos-container">
            <img src="https://www.hospitalmoinhos.org.br/assets/images/logo-w-hopkins.png" alt="Logo Hospital Moinhos de Vento" id="logo-hmv">
            <img src="favicon.png" alt="Logo Casa do Colaborador" id="logo-casa-colaborador">
        </div>
        <h1>Agenda de Horários para Colaboradores</h1>
        
        <button id="btn-admin-login" class="btn-acao btn-cinza">Login Admin</button>
        
        <p class="observacao">
            Em caso de dúvidas entre em contato com 
            <a href="mailto:casa.colaborador@hmv.org.br">casa.colaborador@hmv.org.br</a>
        </p>
    </header>
    
    <div id="seletor-container">
        <label for="seletor-data">Selecione a Data:</label>
        <input type="date" id="seletor-data" required>
        <span id="dia-semana" class="dia-semana"></span>
    </div>

    <div id="agenda-container" class="agenda-container loading">
        <p class="loading-text">Carregando a agenda...</p>
        </div>

    <div id="modal-agendamento" class="modal-backdrop hidden">
        <div class="modal-content">
            <button class="modal-fechar">X</button>
            <h2>Confirmação de Reserva</h2>
            <div id="modal-agendamento-detalhes"></div>
            <div class="form-group">
                <label for="input-matricula">Sua Matrícula/ID:</label>
                <input type="text" id="input-matricula" placeholder="Digite sua matrícula" required>
            </div>
            <div class="modal-botoes">
                <button id="btn-cancelar-agendamento" class="btn-modal btn-cinza" type="button">Cancelar</button>
                <button id="btn-confirmar" class="btn-modal btn-verde" type="button" disabled>Confirmar Reserva</button>
            </div>
        </div>
    </div>

    <div id="modal-detalhes" class="modal-backdrop hidden">
        <div class="modal-content">
            <button class="modal-fechar">X</button>
            <h2>Detalhes da Sua Reserva</h2>
            <div id="reserva-detalhes"></div>
            <div class="modal-botoes">
                <button id="btn-cancelar-reserva" class="btn-modal btn-vermelho" type="button">Cancelar Reserva</button>
                <button id="btn-fechar-detalhes" class="btn-modal btn-cinza" type="button">Fechar</button>
            </div>
        </div>
    </div>

    <div id="modal-admin-login" class="modal-backdrop hidden">
        <div class="modal-content">
            <button class="modal-fechar">X</button>
            <h2>Login Administrativo</h2>
            <div class="form-group">
                <label for="input-admin-password">Senha Admin:</label>
                <input type="password" id="input-admin-password" placeholder="Digite a senha">
            </div>
            <div id="admin-login-mensagem"></div>
            <div class="modal-botoes">
                <button id="btn-cancelar-admin-login" class="btn-modal btn-cinza" type="button">Cancelar</button>
                <button id="btn-confirmar-admin-login" class="btn-modal btn-vermelho" type="button">Entrar</button>
            </div>
        </div>
    </div>
    
    <div id="modal-admin-gerenciar" class="modal-backdrop hidden">
        <div class="modal-content">
            <button class="modal-fechar">X</button>
            <h2>Painel de Administração</h2>
            <p>Selecione a ação desejada.</p>
            <div class="modal-botoes vertical-botoes">
                <button id="btn-admin-adicionar" class="btn-modal btn-verde" type="button">Adicionar Novos Horários</button>
                <button id="btn-admin-logout" class="btn-modal btn-cinza" type="button">Logout Admin</button>
                <button id="btn-fechar-admin-gerenciar" class="btn-modal btn-cinza" type="button">Fechar</button>
            </div>
        </div>
    </div>

    <div id="modal-admin-adicionar" class="modal-backdrop hidden">
        <div class="modal-content">
            <button class="modal-fechar">X</button>
            <h2>Adicionar Horário na Agenda</h2>
            <form id="form-adicionar-horario">
                <div class="form-group">
                    <label for="admin-select-profissional">Profissional:</label>
                    <select id="admin-select-profissional" required>
                        <option value="">-- Selecione o Profissional --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="admin-select-atividade">Atividade:</label>
                    <select id="admin-select-atividade" required disabled>
                        <option value="">-- Selecione a Atividade --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="admin-select-data">Data:</label>
                    <input type="date" id="admin-select-data" required>
                </div>
                
                <div id="admin-data-erro-mensagem" class="mensagem-erro hidden"></div> 
                
                <div id="quick-massage-container" class="hidden">
                    <div class="form-group">
                        <label>Horários a Adicionar (Quick Massage):</label>
                        <p class="observacao-inline">Clique no horário para selecionar/desselecionar.</p>
                    </div>
                    <div id="quick-massage-horarios" class="horarios-grid">
                    </div>
                </div>

                <div id="horario-unico-container" class="hidden">
                     <div class="form-row">
                        <div class="form-group flex-item">
                            <label for="admin-input-horario">Horário de Início (HH:MM):</label>
                            <input type="text" id="admin-input-horario" pattern="[0-9]{2}:[0-9]{2}" placeholder="Ex: 08:30">
                        </div>

                        <div id="vagas-container-unico" class="form-group flex-item">
                            <label for="admin-input-vagas">Vagas Totais:</label>
                            <input type="number" id="admin-input-vagas" min="1" value="1"> 
                        </div>
                     </div>
                </div>
                
                <div class="modal-botoes">
                    <button id="btn-cancelar-adicionar-final" class="btn-modal btn-cinza" type="button">Cancelar</button>
                    <button id="btn-confirmar-adicionar-final" class="btn-modal btn-azul" type="submit" disabled>Adicionar à Agenda</button>
                </div>
            </form>
        </div>
    </div>


    <div class="qr-code-container">
        <img src="img/qr-code-aulas.png" alt="Código QR para a agenda de aulas">
        <p>Acesse o QR Code para a agenda de aulas.</p>
    </div>

    <div id="modal-mensagem" class="modal-backdrop hidden">
        <div class="modal-content">
            <button class="modal-fechar">X</button>
            <h2 id="modal-mensagem-titulo"></h2>
            <p id="modal-mensagem-texto"></p>
            <div class="modal-botoes">
                <button id="btn-fechar-mensagem" class="btn-modal btn-cinza" type="button">Fechar</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
